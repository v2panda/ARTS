# ARTS-2018-09-01

## Algorithm
[258.addDigits](https://leetcode-cn.com/problems/add-digits/description/)

```
/**
 * Question Link: https://leetcode-cn.com/problems/add-digits/description/
 */

class Solution {
    func addDigits(_ num: Int) -> Int {

        let str = String(num)

        guard str.count > 1 else {
            return num
        }

        let array = Array(str).map{ String($0) }

        let sum = array.reduce(0) { $0 + Int($1)! }

        return addDigits(sum)
    }
}
```

## Review
[How to come up with side project ideas ðŸ’¡](https://blog.producthunt.com/how-to-come-up-with-side-project-ideas-4a2c8049deba)

## Technique

#### API æ˜¯å¦‚ä½•æ”¯æŒåˆ†é¡µçš„
è®°å½•ä¸€ä¸‹ API æ˜¯å¦‚ä½•æ”¯æŒåˆ†é¡µçš„ï¼Œä¸¤ç§åšæ³•ï¼š

1. å‰ç«¯å‘èµ·è¯·æ±‚ï¼Œå‚æ•°å¸¦ `pageNo`ï¼ŒåŽç«¯ response è¿”å›ž `data[]` å’Œ `totalCount`
2. å‰ç«¯å‘èµ·è¯·æ±‚ï¼Œå‚æ•°å¸¦ `pageNo`ï¼ŒåŽç«¯ response è¿”å›ž `data[]`ã€`currentPageNo` å’Œ `pageCount`

è¿™ä¸¤ç§æ–¹å¼åŒºåˆ«åœ¨äºŽå¯¹æœ€åŽä¸€é¡µçš„åˆ¤æ–­ã€‚

ç¬¬ä¸€ç§æ–¹å¼æ˜¯éšæ€§çš„ï¼Œéœ€è¦å‰ç«¯ä¸»åŠ¨æ‹¿æ‰€æœ‰ `data[]` å’Œ `totalCount` ä½œæ¯”è¾ƒï¼Œè¿˜éœ€è¦å¯¹ `data[]` ä¹‹å’ŒåŽ»é‡ã€‚

è€Œç¬¬äºŒç§æ–¹å¼æ¯”è¾ƒå‹å¥½ï¼Œå‰ç«¯ä¸ç”¨å…³å¿ƒ `totalCount`ï¼Œåªéœ€è¦æ‹¿ `currentPageNo` å’Œ `pageCount` æ¯”è¾ƒå°±çŸ¥é“æ˜¯å¦æ˜¯æœ€åŽä¸€é¡µï¼ŒæŽ¨è API è®¾è®¡æ—¶ï¼Œé‡‡ç”¨ç¬¬äºŒç§æ–¹å¼ã€‚

## Share
[ç”¨æžšä¸¾æ¥é©±åŠ¨ TableView å¼€å‘](https://mp.weixin.qq.com/s/Krn31paxEpvQ2AscZN0HMQ)

> ç”¨çŠ¶æ€æ¥ç®¡ç†ä¸€ä¸ªæœç´¢é¡µé¢çš„ `TableView`

æœ¬æ–‡å°†é¡µé¢åˆ†ä¸º 5 ç§çŠ¶æ€ï¼š


```
  case loading
  case paging([Recording], next: Int)
  case populated([Recording])
  case empty
  case error(Error)
```

åˆ†åˆ«ä¸ºåŠ è½½ä¸­ã€åˆ†é¡µã€åŠ è½½å®Œæ¯•ã€ç©ºå’Œç½‘ç»œé”™è¯¯é¡µï¼Œå…¶ä¸­  `paging` å’Œ `populated` éƒ½ä¸ºæ•°æ®åŠ è½½å®Œæ¯•ï¼ŒåŒºåˆ«åœ¨äºŽ `paging` éœ€è¦åˆ†é¡µã€‚

æ ¹æ®ç½‘ç»œæƒ…å†µæ¥åˆ’åˆ†é¡µé¢çŠ¶æ€ï¼Œå¹¶æ ¹æ®é¡µé¢çŠ¶æ€æ¥åŠ è½½ä¸åŒçš„é¡µé¢ã€‚

æœ‰æ„æ€çš„æ˜¯ï¼Œè¿™é‡Œé‡‡ç”¨äº† ***API æ˜¯å¦‚ä½•æ”¯æŒåˆ†é¡µçš„ *** ç¬¬äºŒç§æ–¹å¼ï¼Œå¹¶åœ¨ `cellForRowAt` æ–¹æ³•ä¸­è‡ªåŠ¨åŠ è½½ä¸‹ä¸€é¡µã€‚


```
  func tableView(_ tableView: UITableView,
                 cellForRowAt indexPath: IndexPath) -> UITableViewCell {

    guard let cell = tableView.dequeueReusableCell(
      withIdentifier: BirdSoundTableViewCell.ReuseIdentifier)
      as? BirdSoundTableViewCell else {
        return UITableViewCell()
    }

    cell.load(recording: state.currentRecordings[indexPath.row])

    if case .paging(_, let nextPage) = state,
      indexPath.row == state.currentRecordings.count - 1 {
      loadPage(nextPage)
    }

    return cell
  }
```






